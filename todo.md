para fazer as stats: quando há um search, atualizar counters, quando ha uma mudança, mandar ao client.
meter uma cena a contar tempo qnd ha um request, e termina qnd recebe uma resposta

no balanceamento de carga, em vez do for estranho, fazer um while que tenta até conseguir mandar.